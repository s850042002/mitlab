doctype html
html
    head
        meta(name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes")
        meta(charset="UTF-8")
        script(src="/bower_components/webcomponentsjs/webcomponents.js")
        link(rel='stylesheet', href='/stylesheets/style.css')
        link(rel="import", href="bower_components/polymer/polymer.html")
        link(rel="import", href="bower_components/core-header-panel/core-header-panel.html")
        link(rel="import", href="bower_components/paper-fab/paper-fab.html")
        link(rel="import", href="bower_components/core-icons/core-icons.html")
        link(rel="import", href="bower_components/core-list/core-list.html")
        link(rel="import", href="bower_components/core-ajax/core-ajax.html")

        title #{title}
        script(type='text/javascript').
          document.addEventListener('polymer-ready', function() {
            var currentLang = "en";
            var div = document.querySelector("#content");
            div.addEventListener('click', function(e) {
              var langAjax = document.querySelector('#lang-ajax');
              currentLang = (currentLang === "en") ? "tw" : "en";
              console.log(currentLang);

              langAjax.addEventListener('core-response', function (e) {
                console.log(e.detail.response);
              });
              langAjax.addEventListener('core-error', function (e) {
                console.log(e.detail.response);
              });
              langAjax.go();
            });
          });

body(fullbleed layout vertical)
    core-header-panel(flex mode="seamed")
      div(class="core-header")
          div Symbol Header Poster
      div(id="content" class="content", fit)
          core-ajax(id="lang-ajax" url="lang", method="GET", handleAs="json")
